<!DOCTYPE html>
<html>
<head>
<style>
      .res {
          background-color: yellow;
          color: green;
          font-size: 120%;
      }
</style>
</head>
<body>

<!--------------  TESTS ------------------>
<!-- Wrap at 40 symbols -->
<h1>Test 1</h1>
<pre id="test_1">World's simplest browser-based utility for wrapping words in the text.</pre>
<pre id="expect_1">World's simplest browser-based utility
for wrapping words in the text.</pre>
<pre class="res" id="res_1">empty</pre>

<h1>Test 2</h1>
<pre id="test_2">World's simplest browser-based utility for wrapping words in the text. Load your text in the input form on the left, set the required length of the text, and you'll instantly get all words wrapped to this length in the output area. Powerful, free, and fast. Load text – wrap words.</pre>
<pre id="expect_2">World's simplest browser-based utility
for wrapping words in the text. Load
your text in the input form on the left,
set the required length of the text, and
you'll instantly get all words wrapped
to this length in the output area.
Powerful, free, and fast. Load text –
wrap words.</pre>
<pre class="res" id="res_2">empty</pre>

<h1>Test 3</h1>
<pre id="test_3">With this online tool, you can wrap words in the given text. In the options, you can specify the maximum text line width and the program will wrap all words so that the width of each line doesn't exceed this width. For example, the width can be 60, 50, or 45 characters per line. By default, the program doesn't break words, which means the words that no longer entirely fit into a line are placed at the beginning of the next new line. If you activate the "Break Words" option, then the program will fill each line with as many characters as possible and will insert a hard line break in the middle of the last word, and place the ending part of this word on a new line. If the last word fits entirely in the current line and is followed by a space symbol, then the next line will start with a space. If you don't want to have this space at the beginning of the line, turn off the "Allow Leading Spaces" option. Textabulous!</pre>
<pre id="expect_3">With this online tool, you can wrap
words in the given text. In the options,
you can specify the maximum text line
width and the program will wrap all
words so that the width of each line
doesn't exceed this width. For example,
the width can be 60, 50, or 45
characters per line. By default, the
program doesn't break words, which means
the words that no longer entirely fit
into a line are placed at the beginning
of the next new line. If you activate
the "Break Words" option, then the
program will fill each line with as many
characters as possible and will insert a
hard line break in the middle of the
last word, and place the ending part of
this word on a new line. If the last
word fits entirely in the current line
and is followed by a space symbol, then
the next line will start with a space.
If you don't want to have this space at
the beginning of the line, turn off the
"Allow Leading Spaces" option.
Textabulous!</pre>
<pre class="res" id="res_3">empty</pre>

<h1>Test 4</h1>
<pre id="test_4">Hello world!</pre>
<pre id="expect_4">Hello world!</pre>
<pre class="res" id="res_4">empty</pre>

<!--------------  TESTS ------------------>
<script>
   //Alternative Solusion
   function SolveIt2(txt){
   const width = 40; // Define the wrapping width here
    return txt.split(' ').reduce((result, word) => 
        (result.length === 0 || result[result.length - 1].length + word.length + 1 > width) ? 
        [...result, word] : 
        Object.assign([...result], {[result.length - 1] : result[result.length - 1] + ' ' + word}), 
        []).join('\n');
}



// ----------- TESTING --------------
var i, res;
var _txt = "";
for (i = 1; i <= 4; i++)
{
    res = "_REPLACE_ME_"; // This should not be in the final result 
    //------ Parse correctly the input 
    _txt = document.getElementById("test_" + i).innerHTML;
    
    //------ Parse correctly the input 
    res = SolveIt2(_txt);
    
    expect = document.getElementById("expect_" + i).innerHTML;
    if (res == expect) res += " ... OK";
    else { res += " ... FAIL"; document.getElementById("res_" + i).style.color = "red"; }
    document.getElementById("res_" + i).innerHTML = res;
}
</script>

</body>
</html>

